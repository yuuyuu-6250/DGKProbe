<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>タイトル改行なしダッシュボード</title>
  <style>
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
}
body {
  height: 100vh;
  width: 100vw;
  background: #000;
  color: #fff;
}
.dashboard {
  display: grid;
  grid-template-columns: 1.5fr 2.5fr 2.5fr 1.5fr;
  grid-template-rows: 0.6fr 3fr 2fr 1.2fr;
  gap: 8px;
  height: 100vh;
  width: 100vw;
  box-sizing: border-box;
  padding: 8px;
}
.box {
  background: #999;
  border-radius: 30px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 1.3em;
  min-width: 0;
  min-height: 0;
  color: #fff;
  padding: 0;
  overflow: hidden;
  position: relative;
}
.stat1, .stat2 {
  background: #999;
  border-radius: 14px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 1em;
  color: #fff;
  position: relative;
}
.title {
  font-weight: bold;
  font-size: 2em;
  background: #000;
  color: #fff;
  border-radius: 0 0 36px 0;
  align-items: start;
  padding: 24px 16px 0 24px;
  display: flex;
  min-width: 0;
  min-height: 0;
  white-space: nowrap;
}
.stat1 { grid-column: 3 / 4; grid-row: 1 / 2;}
.stat2 { grid-column: 4 / 5; grid-row: 1 / 2;}
.gps-map { grid-column: 1 / 3; grid-row: 2 / 3;}
.sensor {
  grid-column: 3 / 5;
  grid-row: 2 / 4;
  display: flex;
  flex-direction: column;
  gap: 16px;
  background: none;
  border: none;
  border-radius: 0;
  padding: 0;
  box-shadow: none;
}
.sensor .box {
  flex: 1;
  font-size: 1.2em;
  border-radius: 18px;
  margin: 0;
  padding: 0;
  overflow: hidden;
  position: relative;
  display: flex;
  flex-direction: column;
}
.grafana-iframe {
  width: 100%;
  height: 100%;
  border: none;
  border-radius: 12px;
  display: block;
  flex: 1 1 auto;
}
.fallback {
  display: none;
  width: 100%;
  height: 100%;
  color: #fff;
  background: #333;
  justify-content: center;
  align-items: center;
  text-align: center;
  font-size: 1.1em;
  border-radius: 12px;
  position: absolute;
  top: 0;
  left: 0;
  z-index: 2;
}
.table { grid-column: 1 / 3; grid-row: 3 / 5; }
.gauge-row {
  grid-column: 3 / 5;
  grid-row: 4 / 5;
  display: flex;
  gap: 8px;
  height: 100%;
  width: 100%;
}
.gauge1, .gauge2 {
  flex: 1 1 0;
  min-width: 0;
  min-height: 0;
  background: #999;
  border-radius: 30px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 1.3em;
  color: #fff;
  padding: 0;
  overflow: hidden;
  position: relative;
}

.gaming-text {
  font-family: 'Orbitron', 'Arial Black', sans-serif;
  font-size: 2.5em;
  background: linear-gradient(90deg, #00f0ff 0%, #ff00c8 50%, #ffe600 100%);
  background-clip: text;
  -webkit-background-clip: text;
  color: transparent;
  text-shadow:
    0 0 8px #00f0ff,
    0 0 16px #ff00c8,
    0 0 24px #ffe600,
    0 0 32px #fff;
  letter-spacing: 0.08em;
  animation: gaming-glow 2s linear infinite;
}
@keyframes gaming-glow {
  0% { text-shadow: 0 0 8px #00f0ff, 0 0 16px #ff00c8, 0 0 24px #ffe600, 0 0 32px #fff; }
  25% { text-shadow: 0 0 16px #ff00c8, 0 0 24px #ffe600, 0 0 32px #fff, 0 0 8px #00f0ff; }
  50% { text-shadow: 0 0 24px #ffe600, 0 0 32px #fff, 0 0 8px #00f0ff, 0 0 16px #ff00c8; }
  75% { text-shadow: 0 0 32px #fff, 0 0 8px #00f0ff, 0 0 16px #ff00c8, 0 0 24px #ffe600; }
  100% { text-shadow: 0 0 8px #00f0ff, 0 0 16px #ff00c8, 0 0 24px #ffe600, 0 0 32px #fff; }
}



  </style>
</head>
<body>
  <div class="dashboard">
    <div class="title">DGKProbe Monitoring System</div>
    <div class="stat1 box panel-wrapper"><!--つうしんじょうきょう-->
      <div class="fallback">データが取得できませんでした。再読み込みするか、しばらく待ってください。</div>
      <iframe
        src="http://192.168.3.4:3000/d-solo/fff94bcd-0dd5-45e2-9e85-047a7835f4c9/new-dashboard?orgId=1&from=1757153626938&to=1757155166229&timezone=browser&refresh=5s&panelId=7&__feature.dashboardSceneSolo=true"
        class="grafana-iframe"
        allowfullscreen>
      </iframe>
    </div>
    <div class="stat2 box panel-wrapper"><!--ばってりーざんりょう-->
      <div class="fallback">データが取得できませんでした。再読み込みするか、しばらく待ってください。</div>
      <iframe
        src=""
        class="grafana-iframe"
        allowfullscreen>
      </iframe>
    </div>
    <div class="gps-map box panel-wrapper"><!--まっぷ-->
      <div class="fallback">データが取得できませんでした。再読み込みするか、しばらく待ってください。</div>
      <iframe
        src="http://192.168.3.4:3000/d-solo/fff94bcd-0dd5-45e2-9e85-047a7835f4c9/new-dashboard?orgId=1&from=1757153626938&to=1757155166229&timezone=browser&refresh=5s&panelId=10&__feature.dashboardSceneSolo=true"
        class="grafana-iframe"
        allowfullscreen>
      </iframe>
    </div>
    <div class="sensor">
      <div class="box panel-wrapper"><!--きおん-->
        <div class="fallback">データが取得できませんでした。再読み込みするか、しばらく待ってください。</div>
        <iframe
          src="http://192.168.3.4:3000/d-solo/fff94bcd-0dd5-45e2-9e85-047a7835f4c9/new-dashboard?orgId=1&from=1757155681022&to=1757155981022&timezone=browser&refresh=5s&panelId=3&__feature.dashboardSceneSolo=true"
          class="grafana-iframe"
          allowfullscreen>
        </iframe>
      </div>
      <div class="box panel-wrapper"><!--おるてぃちゅーど-->
        <div class="fallback">データが取得できませんでした。再読み込みするか、しばらく待ってください。</div>
        <iframe
          src="http://192.168.3.4:3000/d-solo/fff94bcd-0dd5-45e2-9e85-047a7835f4c9/new-dashboard?orgId=1&from=1757146167182&to=1757146177182&timezone=browser&panelId=2&__feature.dashboardSceneSolo=true"
          class="grafana-iframe"
          allowfullscreen>
        </iframe>
      </div>
      <div class="box panel-wrapper"><!--ぷれっしゃー-->
        <div class="fallback">データが取得できませんでした。再読み込みするか、しばらく待ってください。</div>
        <iframe
          src="http://218.41.235.54:8080/d-solo/fff94bcd-0dd5-45e2-9e85-047a7835f4c9/new-dashboard?orgId=1&from=1758163826246&to=1758164126246&timezone=browser&refresh=auto&panelId=4&__feature.dashboardSceneSolo=true"
          class="grafana-iframe"
          allowfullscreen>
        </iframe>
      </div>
    </div>
    <div class="table box panel-wrapper">
      <div class="fallback">データが取得できませんでした。再読み込みするか、しばらく待ってください。</div>
      <!-- 表自体はiframeでなくても必要ならiframeで-->
      <!-- <iframe src="..." class="grafana-iframe" allowfullscreen></iframe> -->
      縦７横２の表
    </div>
    <div class="gauge-row">
      <div class="gauge1 box panel-wrapper"><!--そくどげーじ-->
        <div class="fallback">データが取得できませんでした。再読み込みするか、しばらく待ってください。</div>
        <iframe
          src="http://192.168.3.4:3000/d-solo/fff94bcd-0dd5-45e2-9e85-047a7835f4c9/new-dashboard?orgId=1&from=1757153626938&to=1757155166229&timezone=browser&refresh=5s&panelId=9&__feature.dashboardSceneSolo=true"
          class="grafana-iframe"
          allowfullscreen>
        </iframe>
      </div>
      <div class="gauge2 box panel-wrapper"><!--かそくどげーじ-->
        <div class="fallback">データが取得できませんでした。再読み込みするか、しばらく待ってください。</div>
        <iframe
          src="http://192.168.3.4:3000/d-solo/fff94bcd-0dd5-45e2-9e85-047a7835f4c9/new-dashboard?orgId=1&from=1757153626938&to=1757155166229&timezone=browser&refresh=5s&panelId=9&__feature.dashboardSceneSolo=true"
          class="grafana-iframe"
          allowfullscreen>
        </iframe>
      </div>
    </div>
  </div>
  <script>
    document.querySelectorAll('.panel-wrapper').forEach(function(panel) {
      const iframe = panel.querySelector('iframe');
      const fallback = panel.querySelector('.fallback');
      let loaded = false;
      if (!iframe) return; // 表などiframeなしパネルは除外
      iframe.onload = function() {
        loaded = true;
      };
      setTimeout(function() {
        try {
          if (!loaded ||
              !iframe.contentWindow ||
              iframe.contentWindow.location.href === 'about:blank') {
            iframe.style.display = "none";
            fallback.style.display = "flex";
          }
        } catch(e) {
          iframe.style.display = "none";
          fallback.style.display = "flex";
        }
      }, 50000); // 5秒でエラー扱い
      iframe.onerror = function() {
        iframe.style.display = "none";
        fallback.style.display = "flex";
      };
    });
  </script>
</body>
</html>
